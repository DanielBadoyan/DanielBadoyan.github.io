<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS | Portfolio SI</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Syncopate:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="cursor cursor-small"></div>
    <div class="cursor cursor-large"></div>

    <div class="stars"></div>
    <div class="twinkling"></div>
    <div class="scanlines"></div>

    <div class="ui-wrapper">
        <header class="hero-header">
            <h1 class="glitch-text" data-text="PORTFOLIO SI">PORTFOLIO SI</h1>
            <div class="subtitle-container">
                <p class="subtitle">ANNÉE UNIVERSITAIRE 2025-2026</p>
                <div class="subtitle-line"></div>
            </div>
        </header>

        <nav class="nav-container">
            <div class="dropdown nexus-glass">
                <button id="menu-button" class="dropbtn nexus-button">
                    <span class="btn-text">INITIALISER SYSTÈME</span>
                    <span class="btn-glare"></span>
                </button>
                <div id="myDropdown" class="dropdown-content nexus-glass-panel">
                    <a href="#" data-td="cours1"><span class="link-num">01.</span> Intro & PGI</a>
                    <a href="#" data-td="cours2"><span class="link-num">02.</span> Odoo Modél.</a>
                    <a href="#" data-td="cours3"><span class="link-num">03.</span> Dossiers & Schémas</a>
                    <a href="#" data-td="cours4"><span class="link-num">04.</span> Les Livrables</a>
                    <a href="#" data-td="cours5"><span class="link-num">05.</span> Gantt & MCD</a>
                    <a href="#" data-td="cours6"><span class="link-num">06.</span> Diagrammes UML</a>
                    <a href="#" data-td="cours7"><span class="link-num">07.</span> Données Futures</a>
                </div>
            </div>
        </nav>

        <div id="submenu-container">
            <div id="cours1-files" class="submenu">
                <button class="pdf-button nexus-file" data-src="pdfs/cours1/td_exercice_tableur.pdf">td_exercice_tableur.pdf</button>
                <button class="pdf-button nexus-file" data-src="pdfs/cours1/td_PGI_exercice.pdf">td_PGI_exercice.pdf</button>
                <button class="pdf-button nexus-file" data-src="pdfs/cours1/TD1_SI.pdf">TD1_SI.pdf</button>
            </div>
            <div id="cours2-files" class="submenu">
                <button class="pdf-button nexus-file" data-src="pdfs/cours2/TP_Odoo.pdf">TP_Odoo.pdf</button>
                <button class="pdf-button nexus-file" data-src="pdfs/cours2/TD2_si.pdf">TD2_si.pdf</button>
            </div>
             <div id="cours3-files" class="submenu">
                <button class="pdf-button nexus-file" data-src="pdfs/cours3/dossier_3.pdf">dossier_3.pdf</button>
                <button class="pdf-button nexus-file" data-src="pdfs/cours3/schema_td_si.pdf">schema_td_si.pdf</button>
            </div>
             <div id="cours4-files" class="submenu">
                <button class="pdf-button nexus-file" data-src="pdfs/cours4/les_livrables_SI.pdf">les_livrables_SI.pdf</button>
                <button class="pdf-button nexus-file" data-src="pdfs/cours4/schema_si.pdf">schema_si.pdf</button>
            </div>
             <div id="cours5-files" class="submenu">
                <button class="pdf-button nexus-file" data-src="pdfs/cours5/Online_Gantt.pdf">Online_Gantt.pdf</button>
                <button class="pdf-button nexus-file" data-src="pdfs/cours5/schema_mcd.pdf">schema_mcd.pdf</button>
            </div>
             <div id="cours6-files" class="submenu">
                <button class="pdf-button nexus-file" data-src="pdfs/cours6/Diagrammedeclasse.pdf">Diagrammedeclasse.pdf</button>
                <button class="pdf-button nexus-file" data-src="pdfs/cours6/USECASE.pdf">USECASE.pdf</button>
            </div>
             <div id="cours7-files" class="submenu">
                 <p style="color: var(--neon-cyan); font-family: var(--font-body);">Données cryptées...</p>
            </div>
        </div>

        <main>
            <div id="pdf-viewer-container" class="nexus-terminal">
                <div class="terminal-header">
                    <span class="status-dot"></span>
                    <span class="terminal-title">VISIONNEUSE QUANTIQUE v4.1</span>
                </div>
                <div class="viewer-content">
                     <p id="default-text">EN ATTENTE DE SÉLECTION...</p>
                    <iframe id="pdf-viewer" src="" frameborder="0"></iframe>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
        // --- INITIALISATION DES ANIMATIONS (Sans risque de crash) ---
        window.addEventListener('load', () => {
            const tl = gsap.timeline();
            // On rend visible les éléments un par un
            tl.to('.glitch-text', { duration: 1, opacity: 1, letterSpacing: '5px', ease: "power4.out" })
              .to('.subtitle-line', { duration: 1, width: '100%', ease: "expo.out" }, "-=0.5")
              .to('.subtitle', { duration: 1, opacity: 1, translateY: 0, ease: "power3.out" }, "-=0.8")
              .to('.nexus-button', { duration: 0.8, opacity: 1, scale: 1, ease: "elastic.out(1, 0.5)" }, "-=0.5")
              .to('.nexus-terminal', { duration: 1, opacity: 1, translateY: 0, ease: "power3.out" }, "-=0.6");
        });

        // --- CURSEUR ---
        const cursorSmall = document.querySelector('.cursor-small');
        const cursorLarge = document.querySelector('.cursor-large');
        
        document.addEventListener('mousemove', (e) => {
            gsap.to(cursorSmall, { x: e.clientX, y: e.clientY, duration: 0.1 });
            gsap.to(cursorLarge, { x: e.clientX, y: e.clientY, duration: 0.5, ease: "power2.out" });
        });
        
        const interactives = document.querySelectorAll('a, button');
        interactives.forEach(el => {
            el.addEventListener('mouseenter', () => {
                gsap.to(cursorLarge, { scale: 3, borderColor: 'rgba(0, 255, 242, 0.5)', backgroundColor: 'rgba(0, 255, 242, 0.1)' });
            });
            el.addEventListener('mouseleave', () => {
                 gsap.to(cursorLarge, { scale: 1, borderColor: 'var(--neon-cyan)', backgroundColor: 'transparent' });
            });
        });

        // --- MENU ---
        const menuButton = document.getElementById('menu-button');
        const dropdown = document.getElementById('myDropdown');
        menuButton.onclick = function() { dropdown.classList.toggle('show'); };
        window.onclick = function(event) {
            if (!event.target.closest('.dropbtn')) {
                if (dropdown.classList.contains('show')) { dropdown.classList.remove('show'); }
            }
        };

        // --- LOGIQUE FICHIERS ---
        const tdLinks = document.querySelectorAll('.dropdown-content a');
        const submenus = document.querySelectorAll('.submenu');
        tdLinks.forEach(link => {
            link.addEventListener('click', function(event) {
                event.preventDefault();
                const tdId = this.getAttribute('data-td');
                const targetSubmenu = document.getElementById(tdId + '-files');
                document.getElementById('default-text').style.display = 'block';
                document.getElementById('pdf-viewer').style.display = 'none';
                document.getElementById('pdf-viewer').src = "";
                const isAlreadyActive = targetSubmenu && targetSubmenu.classList.contains('active-submenu');
                submenus.forEach(menu => menu.classList.remove('active-submenu'));
                if (!isAlreadyActive && targetSubmenu) { 
                    targetSubmenu.classList.add('active-submenu');
                    gsap.fromTo(targetSubmenu.children, 
                        { opacity: 0, y: 20 }, 
                        { opacity: 1, y: 0, duration: 0.4, stagger: 0.1 }
                    );
                }
                dropdown.classList.remove('show');
            });
        });

        const pdfButtons = document.querySelectorAll('.pdf-button');
        const pdfViewer = document.getElementById('pdf-viewer');
        const defaultText = document.getElementById('default-text');
        pdfButtons.forEach(button => {
            button.addEventListener('click', function() {
                pdfButtons.forEach(btn => btn.classList.remove('active-btn'));
                this.classList.add('active-btn');
                const pdfSrc = this.getAttribute('data-src');
                pdfViewer.src = pdfSrc;
                defaultText.style.display = 'none';
                pdfViewer.style.display = 'block';
            });
        });
    </script>
</body>
</html>
